(()=>{let e=4,t=Math.pow(e,2),n=t,o=!1,l=0,c=!0;M("topButtons"),M("timer"),M("tiles"),M("frameSize"),M("bottomButtons");let i=["Shuffle and start","Sound","Save","Results"],d=["3x3","4x4","5x5","6x6","7x7","8x8"],r=document.getElementById("tiles"),u=document.getElementById("timer"),a=document.getElementById("topButtons"),s=document.getElementById("bottomButtons");function m(){!function(e){for(let e=1;e<=t;e++){let t=document.createElement("button");t.id=`btn${e}`,t.setAttribute("index",e),t.innerHTML=e,t.classList.add("btn"),t.addEventListener("click",(function(){T(parseInt(this.getAttribute("index"))),l+=1,c&&B()})),r.append(t)}selectedTileId="btn"+n,selectedTile=document.getElementById(selectedTileId),selectedTile.classList.add("selected")}(),setTimeout((()=>{f()}),10)}function f(){let t=0;t=e<=5?100+Math.floor(100*Math.random()+100):100+Math.floor(100*Math.random()+200);for(let l=100;l<=t;l++)setTimeout((function(){let c=Math.floor(4*Math.random()),i=0;0==c?i=n+1:1==c?i=n-1:2==c?i=n+e:3==c&&(i=n-e),T(i),l>=t-1&&(o=!0)}),10*l)}function T(c){c<1||c>t||(c==n+1?c%e!=1&&E(c):c==n-1?c%e!=0&&E(c):(c==n+e||c==n-e)&&E(c),o&&l>1&&function(){for(let e=1;e<=t;e++)if(currentTile=document.getElementById(`btn${e}`),currentTileIndex=currentTile.getAttribute("index"),currentTileValue=currentTile.innerHTML,parseInt(currentTileIndex)!=parseInt(currentTileValue))return!1;return!0}()&&(alert(`"Hooray! You solved the puzzle in ${I} and ${l} moves!"`),b=0,f(),l=-1))}function E(e){currentTile=document.getElementById(`btn${n}`),currentTileText=currentTile.innerHTML,currentTile.classList.remove("selected"),newTile=document.getElementById(`btn${e}`),currentTile.innerHTML=newTile.innerHTML,newTile.innerHTML=currentTileText,newTile.classList.add("selected"),n=e}!function(){for(button of i){let e=document.createElement("button");e.id=button,e.innerHTML=button,e.classList.add("topBtn"),a.append(e)}}(),m();const L=document.getElementById("frameSize");function M(e){let t={};t=document.createElement("div"),t.id=e,document.body.append(t)}let b;function y(o){e=o,t=Math.pow(e,2),n=t,r.innerHTML="",l=0,m();let c=50*e+"px";r.style.maxWidth=c;let i=`${Math.floor(100/e)}%`,d=document.querySelectorAll(".btn");for(el of d)el.style.width=i;L.innerHTML=`Frame size: ${e}x${e}`,p()}L.innerHTML=`Frame size: ${e}x${e}`,function(){for(button of d){let e=document.createElement("button");e.id=button,e.innerHTML=button,e.classList.add("bottomBtn"),s.append(e)}}(),document.getElementById("Shuffle and start").addEventListener("click",(()=>{f(),p()}),!1),document.getElementById("3x3").addEventListener("click",(function(){y(3)}),!1),document.getElementById("4x4").addEventListener("click",(function(){y(4)}),!1),document.getElementById("5x5").addEventListener("click",(function(){y(5)}),!1),document.getElementById("6x6").addEventListener("click",(function(){y(6)}),!1),document.getElementById("7x7").addEventListener("click",(function(){y(7)}),!1),document.getElementById("8x8").addEventListener("click",(function(){y(8)}),!1);let I="";function p(){b=0,l=0}b=setInterval((()=>{let e=b%60,t=b/60%60;I=e<10&&t<10?`0${Math.trunc(t)}:0${Math.trunc(e)}`:e>=10&&t<10?`0${Math.trunc(t)}:${Math.trunc(e)}`:`${Math.trunc(t)}:${Math.trunc(e)}`,u.innerHTML=`\n        <span class='countTimer'>Count: ${l}</span>\n        <span class='countTimer'>Time: ${I}</span>`,b+=1}),1e3);let x=document.getElementById("Sound");function B(){const e=new Audio;e.src="./click.mp3",e.autoplay=!0}x.addEventListener("click",(()=>{c?(c=!1,x.style.backgroundColor="#656565"):c||(c=!0,x.style.backgroundColor="#06877a")}),!1)})();